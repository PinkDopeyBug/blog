---
title: 类相关
tags:
  - 手撕
  - 前端
createTime: 2025/08/30 14:24:13
permalink: /article/shred/3/
---
# new
```js
/**
 * 手写new
 * @param {*} fn 构造函数
 * @param  {...any} args 参数
 * @returns 对象
 */
function myNew(fn, ...args) {
  let obj = {};
  Object.setPrototypeOf(obj, fn.prototype);
  fn.apply(obj, args);
  return obj;
}

```

# instanceof
```js
/**
 * 手撕instanceof
 * @param {*} obj 对象
 * @param {*} clazz 类
 * @returns 是否为clazz的实例
 */
function myInstanceof(obj, clazz) {
  let proto = Object.getPrototypeOf(obj);
  while (proto !== null) {
    if (proto === clazz.prototype) {
      return true;
    } else {
      proto = Object.getPrototypeOf(proto);
    }
  }
  return false;
}
```