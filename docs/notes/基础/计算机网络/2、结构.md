---
title: 2、结构
createTime: 2025/06/18 20:42:38
permalink: /base/cn/2/
---
# 常见体系结构

| OSI体系结构  | TCP/IP体系结构 | 原理体系结构 | 封装过程数据的名称 | 解决的问题                   |
| -------- | ---------- | ------ | --------- | ----------------------- |
| 应用层      | 应用层        | 应用层    | 报文        | 解决通过应用进程的交互来实现特定网络应用的问题 |
| 表示层      |            |        |           |                         |
| 会话层      |            |        |           |                         |
| 运输层      | 运输层        | 运输层    | 段         | 解决进程之间基于网络的通信问题         |
| 网络层      | 网际层        | 网络层    | 分组        | 解决分组在多个网络上传输(路由)的问题     |
| 数据链路层    | 网络接口层      | 数据链路层  | 帧         | 解决分组在一个网络(或一段链路)上传输的问题  |
| 物理层      |            | 物理层    | 比特流       | 解决使用何种信号来传输比特的问题        |
| 法律上的国际标准 | 事实上的国际标准   | 适用于教学  |           |                         |
TCP/IP协议内容

低层为高层提供服务
不同主机的同一层次称为对等层
对等层之间通讯要使用相同的协议

数据从高层到底层传递需要进行封装
从低层到高层传递需要解封装


# 体系结构分层的必要性
可将庞大而复杂的问题转化为若干较小的局部问题

**在源主机中：**
应用层按HTTP协议的规定构建一个HTTP请求的报文再将HTTP报文交付给运输层处理
运输层将HTTP报文添加一个TCP首部使之称为TCP报文段（段），该首部的作用主要是为了区分应用进程以及实现可靠传输，再将报文段交付给网络层处理
网络层给TCP报文段添加一个IP首部使之称为IP数据报，该首部的作用主要是使IP数据报可以在互联网上传输（被路由器转发）再将数据包交付给数据链路层处理
数据链路层给IP数据包添加一个首部和一个尾部使之称为帧，该首部的作用主要是为了让帧能够在一段链路上或一个网络上传输，能够被相应的目的主机接收，尾部的作用是为了让目的主机检查所接收到的帧是否有误码。数据链路层将帧交付给物理层
物理层将帧看作是比特流，物理层将比特流添加前导码其作用是为了让目的主机做好接收帧的准备。物理层将添加有前导码的比特流变换成相应的信号发送到传输媒体
信号通过传输媒体到达路由器

**在路由器中：**
物理层将信号变为比特流，然后去掉前导码后交付给数据链路层（交付的是帧）
数据链路层将帧首部和尾部去掉后交付给网络层
网络层解析数据报的首部，从中提取目的网络地址，然后查找自身的路由表，确定转发端口以便进行转发

网络层将IP数据报交付给数据链路层，数据链路层将数据包添加一个首部和一个尾部使之称为帧
数据链路层将帧交付给物理层，物理层将帧看作成比特流，再给它添加前导码，物理层将添加有前导码的比特流变换成相应的信号发送到传输媒体，信号通过传输媒体到达web服务器

**Web服务器的处理过程：**
信号从底层一路解封装成报文交付给应用层，应用层对HTTP请求报文进行解析，然后给主机发回HTTP响应报文，与前面的过程类型，HTTP响应报文通过层层封装、发送和解封装发送到主机中

# 计算机网络中的专用术语

## 实体
任何可发送或接收信息的硬件或软件进程
**对等实体**
收发双方相同层次中的实体
## 协议
控制两个对等实体进行逻辑通信的规则的集合

协议三要素：
- 语法
定义所交换信息的格式
- 语义
定义收发双方所要完成的操作
- 同步
定义收发双方的时序关系

在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务。
要实现本层协议，还需要使用下面一层所提供的服务。
协议是“水平的”，服务是“垂直的”
实体看得见相邻下层所提供的服务，但并不知道实现该服务的具体协议。也就是说，下面的协议对上面的实体是"透明"的。

## 服务

- 服务访问点 ：在同一系统中相邻两层的实体交换信息的逻辑接口，用于区分不同的服务类型
	数据链路层的服务访问点为帧的“类型”字段。
	网络层的服务访问点为IP数据报首部中的“协议字段”
	运输层的服务访问点为“端口号”
服务原语
上层使用下层所提供的服务必须通过与下层交换一些命令，这些命令称为服务原语

- 协议数据单元PDU
对等层次之间传送的数据包称为该层的协议数据单元
- 服务数据单元SDU
同一系统内，层与层之间交换的数据包称为服务数据单元。
多个SDU可以合成为一个PDU;一个SDU也可划分为几个PDU。
